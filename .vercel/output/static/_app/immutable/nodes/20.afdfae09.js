import{S as ye,i as we,s as le,k as y,a as R,l as w,c as j,m as O,h as _,n as S,b as V,E as c,v as De,d as F,f as Ee,g as G,W as se,o as Ce,q as N,r as I,X as H,Y as Q,Z as Oe,F as ee,y as Pe,z as Se,A as Ne,B as Ie,u as A,Q as te,e as X,w as Z,_ as K,$ as x}from"../chunks/index.0a5d0d14.js";import"../chunks/ArrowUp.svelte_svelte_type_style_lang.3acaaff1.js";import{W as Ve}from"../chunks/Wave.e0828500.js";import{a as Je}from"../chunks/navigation.02308eb2.js";const Te=o=>{const e=f=>(f.preventDefault(),{x:f.clientX,y:f.clientY}),t=f=>(f.preventDefault(),{x:f.changedTouches[0].clientX,y:f.changedTouches[0].clientY});let l=document.querySelectorAll(".boxcontent"),r=Rx.Observable.fromEvent(l,"mousedown").map(e),s=Rx.Observable.fromEvent(window,"mousemove").map(e),i=Rx.Observable.fromEvent(window,"mouseup").map(e),n=Rx.Observable.fromEvent(l,"touchstart").map(t),a=Rx.Observable.fromEvent(l,"touchmove").map(t),u=Rx.Observable.fromEvent(window,"touchend").map(t),d=r.merge(n),E=s.merge(a),m=i.merge(u),J=d.concatMap(f=>E.takeUntil(m).map(C=>{const b=C.x-f.x,q=C.y-f.y;return{x:b,y:q}})),D=d.concatMap(f=>m.first().map(C=>{const b=C.x-f.x,q=C.y-f.y;return{x:b,y:q}}));d.forEach(()=>{$(".boxcontent").last().css({transition:"initial",cursor:"grabbing"}),$(".like").last().css({transition:"initial"}),$(".nope").last().css({transition:"initial"})}),J.forEach(f=>{$(".boxcontent").last().css({left:f.x,top:f.y,transform:"rotate("+-f.x/20+"deg)"}),$(".box:nth-last-of-type(2) .boxcontent").css({width:Math.min(100,90+Math.abs(f.x)/200*10)+"%",height:Math.min(100,90+Math.abs(f.x)/200*10)+"%",margin:Math.max(0,(1-Math.abs(f.x)/200)*5)+"%"}),$(".like").last().css({opacity:f.x/200}),$(".nope").last().css({opacity:-f.x/200})}),D.forEach(f=>{f.x>130?(g(),o("pending")):f.x<-130?(M(),o("disliked")):T()});function g(){$(".box:last .boxcontent").css({transition:"left 0.5s",left:500}),setTimeout(()=>{$(".box").last().remove()},500)}function M(){$(".boxcontent").last().css({transition:"left 0.5s",left:-500}),setTimeout(()=>{$(".box").last().remove()},500)}function T(){const f=$(".box:last .boxcontent");f.css({transition:"left 0.5s, top 0.5s, transform 0.5s",left:0,top:0,transform:"rotate(0deg)"}),f.find(".like").css({transition:"opacity 0.5s",opacity:0}),f.find(".nope").css({transition:"opacity 0.5s",opacity:0})}document.querySelectorAll(".boxcontent").forEach(f=>{f.addEventListener("touchstart",C=>{C.preventDefault()})})};function re(o,e,t){const l=o.slice();return l[15]=e[t],l}function ne(o,e,t){const l=o.slice();return l[18]=e[t],l[20]=t,l}function oe(o,e,t){const l=o.slice();return l[18]=e[t],l[20]=t,l}function Me(o){let e,t;return{c(){e=y("div"),t=N("Check back later for more deals"),this.h()},l(l){e=w(l,"DIV",{class:!0});var r=O(e);t=I(r,"Check back later for more deals"),r.forEach(_),this.h()},h(){S(e,"class","text-white border border-white p-5 text-2xl rounded-full centerAll text-center max-w-12 bg-red-500 svelte-1d0t80n")},m(l,r){V(l,e,r),c(e,t)},i:ee,o:ee,d(l){l&&_(e)}}}function Le(o){let e,t,l;return t=new Ve({props:{size:"130",color:"#FF3E00",unit:"px",duration:"3s"}}),{c(){e=y("div"),Pe(t.$$.fragment),this.h()},l(r){e=w(r,"DIV",{class:!0});var s=O(e);Se(t.$$.fragment,s),s.forEach(_),this.h()},h(){S(e,"class","centerAll svelte-1d0t80n")},m(r,s){V(r,e,s),Ne(t,e,null),l=!0},i(r){l||(G(t.$$.fragment,r),l=!0)},o(r){F(t.$$.fragment,r),l=!1},d(r){r&&_(e),Ie(t)}}}function ae(o){let e,t,l,r=o[15].title+"",s,i,n,a,u,d=o[15].brandName+"",E,m,J,D,g,M;function T(p,k){return p[15].dealImages&&p[15].dealImages.length!==0?Re:Be}let f=T(o),C=f(o),b=o[15].isCampaign&&fe(o);function q(p,k){if(k&1&&(J=null),k&1&&(D=null),k&1&&(g=null),J==null&&(J=JSON.parse(p[15].estimatedPayment).pay==="Both"),J)return qe;if(D==null&&(D=JSON.parse(p[15].estimatedPayment).pay==="Money"),D)return Ae;if(g==null&&(g=JSON.parse(p[15].estimatedPayment).pay==="Product"),g)return je}let L=q(o,-1),v=L&&L(o),P=o[15].recommendedDeliverables.set,h=[];for(let p=0;p<P.length;p+=1)h[p]=de(oe(o,P,p));return{c(){C.c(),e=R(),t=y("div"),l=y("div"),s=N(r),i=R(),b&&b.c(),n=R(),a=y("div"),u=N("Brand: "),E=N(d),m=R(),v&&v.c(),M=R();for(let p=0;p<h.length;p+=1)h[p].c();this.h()},l(p){C.l(p),e=j(p),t=w(p,"DIV",{class:!0});var k=O(t);l=w(k,"DIV",{class:!0});var B=O(l);s=I(B,r),B.forEach(_),i=j(k),b&&b.l(k),n=j(k),a=w(k,"DIV",{class:!0});var U=O(a);u=I(U,"Brand: "),E=I(U,d),U.forEach(_),m=j(k),v&&v.l(k),M=j(k);for(let W=0;W<h.length;W+=1)h[W].l(k);k.forEach(_),this.h()},h(){S(l,"class","name -mt-5 svelte-1d0t80n"),S(a,"class","interest svelte-1d0t80n"),S(t,"class","info bg-black bg-opacity-70 rounded-xl svelte-1d0t80n")},m(p,k){C.m(p,k),V(p,e,k),V(p,t,k),c(t,l),c(l,s),c(t,i),b&&b.m(t,null),c(t,n),c(t,a),c(a,u),c(a,E),c(t,m),v&&v.m(t,null),c(t,M);for(let B=0;B<h.length;B+=1)h[B]&&h[B].m(t,null)},p(p,k){if(f===(f=T(p))&&C?C.p(p,k):(C.d(1),C=f(p),C&&(C.c(),C.m(e.parentNode,e))),k&1&&r!==(r=p[15].title+"")&&A(s,r),p[15].isCampaign?b?b.p(p,k):(b=fe(p),b.c(),b.m(t,n)):b&&(b.d(1),b=null),k&1&&d!==(d=p[15].brandName+"")&&A(E,d),L===(L=q(p,k))&&v?v.p(p,k):(v&&v.d(1),v=L&&L(p),v&&(v.c(),v.m(t,M))),k&1){P=p[15].recommendedDeliverables.set;let B;for(B=0;B<P.length;B+=1){const U=oe(p,P,B);h[B]?h[B].p(U,k):(h[B]=de(U),h[B].c(),h[B].m(t,null))}for(;B<h.length;B+=1)h[B].d(1);h.length=P.length}},d(p){C.d(p),p&&_(e),p&&_(t),b&&b.d(),v&&v.d(),se(h,p)}}}function Be(o){let e,t;return{c(){e=y("img"),this.h()},l(l){e=w(l,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){S(e,"class","bg-gray-900 object-contain svelte-1d0t80n"),te(e.src,t="https://slimecars.com/assets/cardplaceholder.png")||S(e,"src",t),S(e,"alt","Profile")},m(l,r){V(l,e,r)},p:ee,d(l){l&&_(e)}}}function Re(o){let e,t;return{c(){e=y("img"),this.h()},l(l){e=w(l,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){S(e,"class","bg-gray-900 object-contain svelte-1d0t80n"),te(e.src,t="/api/s3object/"+o[15].dealImages[0].id)||S(e,"src",t),S(e,"alt","Profile")},m(l,r){V(l,e,r)},p(l,r){r&1&&!te(e.src,t="/api/s3object/"+l[15].dealImages[0].id)&&S(e,"src",t)},d(l){l&&_(e)}}}function fe(o){let e,t=o[15].eventType+"",l,r;return{c(){e=y("p"),l=N(t),r=N(" event")},l(s){e=w(s,"P",{});var i=O(e);l=I(i,t),r=I(i," event"),i.forEach(_)},m(s,i){V(s,e,i),c(e,l),c(e,r)},p(s,i){i&1&&t!==(t=s[15].eventType+"")&&A(l,t)},d(s){s&&_(e)}}}function je(o){let e=JSON.parse(o[15].estimatedPayment).product!=="",t,l=e&&ce(o);return{c(){l&&l.c(),t=X()},l(r){l&&l.l(r),t=X()},m(r,s){l&&l.m(r,s),V(r,t,s)},p(r,s){s&1&&(e=JSON.parse(r[15].estimatedPayment).product!==""),e?l?l.p(r,s):(l=ce(r),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(r){l&&l.d(r),r&&_(t)}}}function Ae(o){let e,t;function l(i,n){return n&1&&(e=null),e==null&&(e=JSON.parse(i[15].estimatedPayment).compSelected!=="Custom"),e?We:Ue}let r=l(o,-1),s=r(o);return{c(){s.c(),t=X()},l(i){s.l(i),t=X()},m(i,n){s.m(i,n),V(i,t,n)},p(i,n){r===(r=l(i,n))&&s?s.p(i,n):(s.d(1),s=r(i),s&&(s.c(),s.m(t.parentNode,t)))},d(i){s.d(i),i&&_(t)}}}function qe(o){let e=JSON.parse(o[15].estimatedPayment).product!=="",t,l,r,s=e&&ue(o);function i(u,d){return d&1&&(l=null),l==null&&(l=JSON.parse(u[15].estimatedPayment).compSelected!=="Custom"),l?Fe:Xe}let n=i(o,-1),a=n(o);return{c(){s&&s.c(),t=R(),a.c(),r=X()},l(u){s&&s.l(u),t=j(u),a.l(u),r=X()},m(u,d){s&&s.m(u,d),V(u,t,d),a.m(u,d),V(u,r,d)},p(u,d){d&1&&(e=JSON.parse(u[15].estimatedPayment).product!==""),e?s?s.p(u,d):(s=ue(u),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),n===(n=i(u,d))&&a?a.p(u,d):(a.d(1),a=n(u),a&&(a.c(),a.m(r.parentNode,r)))},d(u){s&&s.d(u),u&&_(t),a.d(u),u&&_(r)}}}function ce(o){let e,t,l=JSON.parse(o[15].estimatedPayment).product+"",r;return{c(){e=y("p"),t=N("Product: "),r=N(l)},l(s){e=w(s,"P",{});var i=O(e);t=I(i,"Product: "),r=I(i,l),i.forEach(_)},m(s,i){V(s,e,i),c(e,t),c(e,r)},p(s,i){i&1&&l!==(l=JSON.parse(s[15].estimatedPayment).product+"")&&A(r,l)},d(s){s&&_(e)}}}function Ue(o){let e,t,l=JSON.parse(o[15].estimatedPayment).customPay+"",r;return{c(){e=y("p"),t=N("Compensation: "),r=N(l)},l(s){e=w(s,"P",{});var i=O(e);t=I(i,"Compensation: "),r=I(i,l),i.forEach(_)},m(s,i){V(s,e,i),c(e,t),c(e,r)},p(s,i){i&1&&l!==(l=JSON.parse(s[15].estimatedPayment).customPay+"")&&A(r,l)},d(s){s&&_(e)}}}function We(o){let e,t,l=JSON.parse(o[15].estimatedPayment).compSelected+"",r;return{c(){e=y("p"),t=N("Compensation: "),r=N(l)},l(s){e=w(s,"P",{});var i=O(e);t=I(i,"Compensation: "),r=I(i,l),i.forEach(_)},m(s,i){V(s,e,i),c(e,t),c(e,r)},p(s,i){i&1&&l!==(l=JSON.parse(s[15].estimatedPayment).compSelected+"")&&A(r,l)},d(s){s&&_(e)}}}function ue(o){let e,t,l=JSON.parse(o[15].estimatedPayment).product+"",r;return{c(){e=y("p"),t=N("Product: "),r=N(l)},l(s){e=w(s,"P",{});var i=O(e);t=I(i,"Product: "),r=I(i,l),i.forEach(_)},m(s,i){V(s,e,i),c(e,t),c(e,r)},p(s,i){i&1&&l!==(l=JSON.parse(s[15].estimatedPayment).product+"")&&A(r,l)},d(s){s&&_(e)}}}function Xe(o){let e,t,l=JSON.parse(o[15].estimatedPayment).customPay+"",r;return{c(){e=y("p"),t=N("Compensation: "),r=N(l)},l(s){e=w(s,"P",{});var i=O(e);t=I(i,"Compensation: "),r=I(i,l),i.forEach(_)},m(s,i){V(s,e,i),c(e,t),c(e,r)},p(s,i){i&1&&l!==(l=JSON.parse(s[15].estimatedPayment).customPay+"")&&A(r,l)},d(s){s&&_(e)}}}function Fe(o){let e,t,l=JSON.parse(o[15].estimatedPayment).compSelected+"",r;return{c(){e=y("p"),t=N("Compensation: "),r=N(l)},l(s){e=w(s,"P",{});var i=O(e);t=I(i,"Compensation: "),r=I(i,l),i.forEach(_)},m(s,i){V(s,e,i),c(e,t),c(e,r)},p(s,i){i&1&&l!==(l=JSON.parse(s[15].estimatedPayment).compSelected+"")&&A(r,l)},d(s){s&&_(e)}}}function de(o){let e,t=o[18].title+"",l,r,s,i;return{c(){e=y("li"),l=N(t),r=R(),s=y("br"),i=R(),this.h()},l(n){e=w(n,"LI",{class:!0});var a=O(e);l=I(a,t),r=j(a),s=w(a,"BR",{}),i=j(a),a.forEach(_),this.h()},h(){S(e,"class","")},m(n,a){V(n,e,a),c(e,l),c(e,r),c(e,s),c(e,i)},p(n,a){a&1&&t!==(t=n[18].title+"")&&A(l,t)},d(n){n&&_(e)}}}function _e(o){let e,t,l,r,s,i,n=o[15].shortDescription+"",a,u,d,E,m,J,D=o[15].sportPreference+"",g,M,T,f,C,b=!o[15].isCampaign&&pe(o);function q(h,p){if(h[15].isCampaign&&h[15].eventDate)return Ye;if(!h[15].isCampaign&&h[15].eventDate)return Ge}let L=q(o),v=L&&L(o),P=o[15].isCampaign&&he(o);return{c(){e=y("div"),t=y("div"),l=y("p"),r=N("Description"),s=R(),i=y("p"),a=N(n),u=R(),d=y("div"),E=y("p"),m=N("Looking for"),J=R(),g=N(D),M=R(),b&&b.c(),T=R(),f=y("div"),v&&v.c(),C=R(),P&&P.c(),this.h()},l(h){e=w(h,"DIV",{class:!0});var p=O(e);t=w(p,"DIV",{class:!0});var k=O(t);l=w(k,"P",{class:!0});var B=O(l);r=I(B,"Description"),B.forEach(_),s=j(k),i=w(k,"P",{});var U=O(i);a=I(U,n),U.forEach(_),k.forEach(_),u=j(p),d=w(p,"DIV",{class:!0});var W=O(d);E=w(W,"P",{class:!0});var Y=O(E);m=I(Y,"Looking for"),Y.forEach(_),J=j(W),g=I(W,D),W.forEach(_),M=j(p),b&&b.l(p),T=j(p),f=w(p,"DIV",{class:!0});var z=O(f);v&&v.l(z),z.forEach(_),C=j(p),P&&P.l(p),p.forEach(_),this.h()},h(){S(l,"class","text-lg underline text-center"),S(t,"class","mb-10 p-2 text-left rounded-xl border border-white w-full"),S(E,"class","text-lg underline text-center"),S(d,"class","p-2 rounded-xl border border-white h-20"),S(f,"class","p-2 rounded-xl border border-white h-20"),S(e,"class","w-full flex flex-col space-y-5 p-5 text-white text-center h-full bg-gray-700")},m(h,p){V(h,e,p),c(e,t),c(t,l),c(l,r),c(t,s),c(t,i),c(i,a),c(e,u),c(e,d),c(d,E),c(E,m),c(d,J),c(d,g),c(e,M),b&&b.m(e,null),c(e,T),c(e,f),v&&v.m(f,null),c(e,C),P&&P.m(e,null)},p(h,p){p&1&&n!==(n=h[15].shortDescription+"")&&A(a,n),p&1&&D!==(D=h[15].sportPreference+"")&&A(g,D),h[15].isCampaign?b&&(b.d(1),b=null):b?b.p(h,p):(b=pe(h),b.c(),b.m(e,T)),L===(L=q(h))&&v?v.p(h,p):(v&&v.d(1),v=L&&L(h),v&&(v.c(),v.m(f,null))),h[15].isCampaign?P?P.p(h,p):(P=he(h),P.c(),P.m(e,null)):P&&(P.d(1),P=null)},d(h){h&&_(e),b&&b.d(),v&&v.d(),P&&P.d()}}}function pe(o){let e,t,l,r=o[15].location+"",s,i,n=o[15].location===""&&me();return{c(){e=y("div"),t=N("Location: "),l=y("br"),s=N(r),i=R(),n&&n.c(),this.h()},l(a){e=w(a,"DIV",{class:!0});var u=O(e);t=I(u,"Location: "),l=w(u,"BR",{}),s=I(u,r),i=j(u),n&&n.l(u),u.forEach(_),this.h()},h(){S(e,"class","p-2 rounded-xl border border-white h-20")},m(a,u){V(a,e,u),c(e,t),c(e,l),c(e,s),c(e,i),n&&n.m(e,null)},p(a,u){u&1&&r!==(r=a[15].location+"")&&A(s,r),a[15].location===""?n||(n=me(),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},d(a){a&&_(e),n&&n.d()}}}function me(o){let e;return{c(){e=N("Virtual")},l(t){e=I(t,"Virtual")},m(t,l){V(t,e,l)},d(t){t&&_(e)}}}function Ge(o){let e,t,l=o[15].eventDate.toString().slice(0,10)+"",r;return{c(){e=N("Date: "),t=y("br"),r=N(l)},l(s){e=I(s,"Date: "),t=w(s,"BR",{}),r=I(s,l)},m(s,i){V(s,e,i),V(s,t,i),V(s,r,i)},p(s,i){i&1&&l!==(l=s[15].eventDate.toString().slice(0,10)+"")&&A(r,l)},d(s){s&&_(e),s&&_(t),s&&_(r)}}}function Ye(o){let e,t,l=o[15].eventDate.toString().slice(0,10)+"",r,s;return{c(){e=N("Start Date: "),t=y("br"),r=N(l),s=y("br")},l(i){e=I(i,"Start Date: "),t=w(i,"BR",{}),r=I(i,l),s=w(i,"BR",{})},m(i,n){V(i,e,n),V(i,t,n),V(i,r,n),V(i,s,n)},p(i,n){n&1&&l!==(l=i[15].eventDate.toString().slice(0,10)+"")&&A(r,l)},d(i){i&&_(e),i&&_(t),i&&_(r),i&&_(s)}}}function he(o){let e,t,l,r=o[15].endDate.toString().slice(0,10)+"",s;return{c(){e=y("div"),t=N("End Date: "),l=y("br"),s=N(r),this.h()},l(i){e=w(i,"DIV",{class:!0});var n=O(e);t=I(n,"End Date: "),l=w(n,"BR",{}),s=I(n,r),n.forEach(_),this.h()},h(){S(e,"class","p-2 rounded-xl border border-white h-20")},m(i,n){V(i,e,n),c(e,t),c(e,l),c(e,s)},p(i,n){n&1&&r!==(r=i[15].endDate.toString().slice(0,10)+"")&&A(s,r)},d(i){i&&_(e)}}}function be(o){let e,t,l,r,s,i=o[15].recommendedDeliverables.set,n=[];for(let a=0;a<i.length;a+=1)n[a]=ve(ne(o,i,a));return{c(){e=y("div"),t=y("div"),l=y("p"),r=N("Deliverables"),s=R();for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=w(a,"DIV",{class:!0});var u=O(e);t=w(u,"DIV",{class:!0});var d=O(t);l=w(d,"P",{class:!0});var E=O(l);r=I(E,"Deliverables"),E.forEach(_),s=j(d);for(let m=0;m<n.length;m+=1)n[m].l(d);d.forEach(_),u.forEach(_),this.h()},h(){S(l,"class","text-lg underline text-center"),S(t,"class","text-left w-full"),S(e,"class","w-full p-5 text-white text-center h-full bg-gray-700")},m(a,u){V(a,e,u),c(e,t),c(t,l),c(l,r),c(t,s);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(t,null)},p(a,u){if(u&1){i=a[15].recommendedDeliverables.set;let d;for(d=0;d<i.length;d+=1){const E=ne(a,i,d);n[d]?n[d].p(E,u):(n[d]=ve(E),n[d].c(),n[d].m(t,null))}for(;d<n.length;d+=1)n[d].d(1);n.length=i.length}},d(a){a&&_(e),se(n,a)}}}function ve(o){let e,t=o[18].title+"",l,r,s,i=o[18].value+"",n,a;return{c(){e=y("li"),l=N(t),r=N(": "),s=y("br"),n=N(i),a=R(),this.h()},l(u){e=w(u,"LI",{class:!0});var d=O(e);l=I(d,t),r=I(d,": "),s=w(d,"BR",{}),n=I(d,i),a=j(d),d.forEach(_),this.h()},h(){S(e,"class","m-5")},m(u,d){V(u,e,d),c(e,l),c(e,r),c(e,s),c(e,n),c(e,a)},p(u,d){d&1&&t!==(t=u[18].title+"")&&A(l,t),d&1&&i!==(i=u[18].value+"")&&A(n,i)},d(u){u&&_(e)}}}function ge(o){let e,t,l,r,s,i,n,a,u,d,E,m,J,D,g,M,T,f,C,b,q,L=o[1]===0&&ae(o),v=o[1]===1&&_e(o),P=o[1]===2&&be(o);return{c(){e=y("div"),t=y("div"),L&&L.c(),l=R(),v&&v.c(),r=R(),P&&P.c(),s=R(),i=y("div"),n=N("Like"),a=R(),u=y("div"),d=N("Nope"),E=R(),m=y("div"),J=y("button"),D=N("<"),g=R(),M=y("div"),T=y("button"),f=N(">"),C=R(),this.h()},l(h){e=w(h,"DIV",{class:!0});var p=O(e);t=w(p,"DIV",{class:!0});var k=O(t);L&&L.l(k),l=j(k),v&&v.l(k),r=j(k),P&&P.l(k),s=j(k),i=w(k,"DIV",{class:!0});var B=O(i);n=I(B,"Like"),B.forEach(_),a=j(k),u=w(k,"DIV",{class:!0});var U=O(u);d=I(U,"Nope"),U.forEach(_),E=j(k),m=w(k,"DIV",{class:!0});var W=O(m);J=w(W,"BUTTON",{class:!0});var Y=O(J);D=I(Y,"<"),Y.forEach(_),W.forEach(_),g=j(k),M=w(k,"DIV",{class:!0});var z=O(M);T=w(z,"BUTTON",{class:!0});var ie=O(T);f=I(ie,">"),ie.forEach(_),z.forEach(_),k.forEach(_),C=j(p),p.forEach(_),this.h()},h(){S(i,"class","like svelte-1d0t80n"),S(u,"class","nope svelte-1d0t80n"),S(J,"class","w-full h-full px-3 py-3 bg-transparent text-gray-900 border-text text-2xl font-semibold hover:text-gray-300 transition-colors duration-200 svelte-1d0t80n"),S(m,"class","absolute top-0 bottom-0 left-0 flex items-center"),S(T,"class","w-full h-full px-3 py-3 bg-transparent text-gray-900 border-text text-2xl font-semibold hover:text-gray-300 transition-colors duration-200 svelte-1d0t80n"),S(M,"class","absolute top-0 bottom-0 right-0 flex items-center"),S(t,"class","boxcontent svelte-1d0t80n"),S(e,"class","box svelte-1d0t80n")},m(h,p){V(h,e,p),c(e,t),L&&L.m(t,null),c(t,l),v&&v.m(t,null),c(t,r),P&&P.m(t,null),c(t,s),c(t,i),c(i,n),c(t,a),c(t,u),c(u,d),c(t,E),c(t,m),c(m,J),c(J,D),c(t,g),c(t,M),c(M,T),c(T,f),c(e,C),b||(q=[H(J,"click",Q(o[5])),H(J,"touchstart",Q(o[6]),!0),H(T,"touchstart",Q(o[7]),!0),H(T,"click",Q(o[8]))],b=!0)},p(h,p){h[1]===0?L?L.p(h,p):(L=ae(h),L.c(),L.m(t,l)):L&&(L.d(1),L=null),h[1]===1?v?v.p(h,p):(v=_e(h),v.c(),v.m(t,r)):v&&(v.d(1),v=null),h[1]===2?P?P.p(h,p):(P=be(h),P.c(),P.m(t,s)):P&&(P.d(1),P=null)},d(h){h&&_(e),L&&L.d(),v&&v.d(),P&&P.d(),b=!1,Oe(q)}}}function ze(o){let e,t,l,r,s,i,n,a,u;const d=[Le,Me],E=[];function m(g,M){return g[2]?0:g[0].length===0?1:-1}~(i=m(o))&&(n=E[i]=d[i](o));let J=o[0],D=[];for(let g=0;g<J.length;g+=1)D[g]=ge(re(o,J,g));return{c(){e=y("meta"),t=R(),l=y("div"),r=y("div"),s=y("div"),n&&n.c(),a=R();for(let g=0;g<D.length;g+=1)D[g].c();this.h()},l(g){e=w(g,"META",{name:!0,content:!0}),t=j(g),l=w(g,"DIV",{id:!0,class:!0});var M=O(l);r=w(M,"DIV",{class:!0,id:!0});var T=O(r);s=w(T,"DIV",{class:!0});var f=O(s);n&&n.l(f),f.forEach(_),a=j(T);for(let C=0;C<D.length;C+=1)D[C].l(T);T.forEach(_),M.forEach(_),this.h()},h(){S(e,"name","viewport"),S(e,"content","width=device-width, initial-scale=1.0"),S(s,"class","background svelte-1d0t80n"),S(r,"class","-mb-10 sm:mt-10 sm:mb-5 svelte-1d0t80n"),S(r,"id","container"),S(l,"id","wrapper"),S(l,"class","justify-left sm:justify-center -ml-[2px] sm:ml-0 svelte-1d0t80n")},m(g,M){V(g,e,M),V(g,t,M),V(g,l,M),c(l,r),c(r,s),~i&&E[i].m(s,null),c(r,a);for(let T=0;T<D.length;T+=1)D[T]&&D[T].m(r,null);u=!0},p(g,[M]){let T=i;if(i=m(g),i!==T&&(n&&(De(),F(E[T],1,1,()=>{E[T]=null}),Ee()),~i?(n=E[i],n||(n=E[i]=d[i](g),n.c()),G(n,1),n.m(s,null)):n=null),M&3){J=g[0];let f;for(f=0;f<J.length;f+=1){const C=re(g,J,f);D[f]?D[f].p(C,M):(D[f]=ge(C),D[f].c(),D[f].m(r,null))}for(;f<D.length;f+=1)D[f].d(1);D.length=J.length}},i(g){u||(G(n),u=!0)},o(g){F(n),u=!1},d(g){g&&_(e),g&&_(t),g&&_(l),~i&&E[i].d(),se(D,g)}}}function He(o,e,t){let{offers:l}=e,r=!1,s=4;l.length<5&&(s=l.length-1);let i=[],{pageNum:n=0}=e,{currDealIds:a}=e,{refreshCounter:u}=e,d=0,E=async f=>{i.push(f),d++,t(1,n=0),console.log(i,i.length-1);let C=[];for(let b=0;b<a.length;b++){let q={dealId:a[b],decision:i[b]};C.push(q)}if(i=[],t(3,a=[]),await m(JSON.stringify(C)),t(2,r=!1),d-1===s){d=0;let b=await J();t(2,r=!1),b.length<5&&(s=b.length-1),t(0,l=[...b]),t(4,u+=1)}};//!!! this makes it more seamless by loading in the last deal and running
Ce(async()=>{Te(E)});async function m(f){return t(2,r=!0),await(await fetch("/deals",{method:"POST",body:f,headers:{"content-type":"application/json"}})).json()}async function J(){return t(2,r=!0),await(await fetch("/deals",{method:"GET"})).json()}const D=()=>{t(1,n=n-1),n<0&&t(1,n=2)},g=()=>{t(1,n=n-1),n<0&&t(1,n=2)},M=()=>{t(1,n=n+1),n>2&&t(1,n=0)},T=()=>{t(1,n=n+1),n>2&&t(1,n=0)};return o.$$set=f=>{"offers"in f&&t(0,l=f.offers),"pageNum"in f&&t(1,n=f.pageNum),"currDealIds"in f&&t(3,a=f.currDealIds),"refreshCounter"in f&&t(4,u=f.refreshCounter)},o.$$.update=()=>{if(o.$$.dirty&1)for(let f=0;f<l.length;f++)t(3,a[f]=l[f].id,a)},[l,n,r,a,u,D,g,M,T]}class Qe extends ye{constructor(e){super(),we(this,e,He,ze,le,{offers:0,pageNum:1,currDealIds:3,refreshCounter:4})}}function ke(o){let e,t,l,r,s,i;function n(m){o[5](m)}function a(m){o[6](m)}function u(m){o[7](m)}function d(m){o[8](m)}let E={};return o[2]!==void 0&&(E.pageNum=o[2]),o[0]!==void 0&&(E.refreshCounter=o[0]),o[1]!==void 0&&(E.offers=o[1]),o[3]!==void 0&&(E.currDealIds=o[3]),e=new Qe({props:E}),Z.push(()=>K(e,"pageNum",n)),Z.push(()=>K(e,"refreshCounter",a)),Z.push(()=>K(e,"offers",u)),Z.push(()=>K(e,"currDealIds",d)),{c(){Pe(e.$$.fragment)},l(m){Se(e.$$.fragment,m)},m(m,J){Ne(e,m,J),i=!0},p(m,J){const D={};!t&&J&4&&(t=!0,D.pageNum=m[2],x(()=>t=!1)),!l&&J&1&&(l=!0,D.refreshCounter=m[0],x(()=>l=!1)),!r&&J&2&&(r=!0,D.offers=m[1],x(()=>r=!1)),!s&&J&8&&(s=!0,D.currDealIds=m[3],x(()=>s=!1)),e.$set(D)},i(m){i||(G(e.$$.fragment,m),i=!0)},o(m){F(e.$$.fragment,m),i=!1},d(m){Ie(e,m)}}}function Ze(o){let e=o[0],t,l,r=ke(o);return{c(){r.c(),t=X()},l(s){r.l(s),t=X()},m(s,i){r.m(s,i),V(s,t,i),l=!0},p(s,[i]){i&1&&le(e,e=s[0])?(De(),F(r,1,1,ee),Ee(),r=ke(s),r.c(),G(r,1),r.m(t.parentNode,t)):r.p(s,i)},i(s){l||(G(r),l=!0)},o(s){F(r),l=!1},d(s){s&&_(t),r.d(s)}}}function Ke(o,e,t){let{data:l}=e,r=l.nextDeals,s,i=0;Je(()=>{window.scrollTo(0,document.body.scrollHeight)});let n=[];function a(m){s=m,t(2,s),t(0,i)}function u(m){i=m,t(0,i)}function d(m){r=m,t(1,r)}function E(m){n=m,t(3,n)}return o.$$set=m=>{"data"in m&&t(4,l=m.data)},o.$$.update=()=>{o.$$.dirty&1&&i&&t(2,s=0)},[i,r,s,n,l,a,u,d,E]}class lt extends ye{constructor(e){super(),we(this,e,Ke,Ze,le,{data:4})}}export{lt as component};
